<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç¥çµŒè¡°å¼±ã‚²ãƒ¼ãƒ </title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f0f0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      margin: 0;
    }
    h1 {
      margin-top: 30px;
      color: #333;
    }
    #game-board {
      display: grid;
      grid-template-columns: repeat(5, 80px);
      grid-gap: 15px;
      margin: 40px 0;
    }
    .card {
      width: 80px;
      height: 100px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      cursor: pointer;
      user-select: none;
      position: relative;
      transition: transform 0.2s;
      transform-style: preserve-3d;
    }
    .card.flipped, .card.matched {
      background: #4caf50;
      color: #fff;
      cursor: default;
      transform: rotateY(180deg);
    }
    .card .front, .card .back {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      backface-visibility: hidden;
      border-radius: 10px;
    }
    .card .front {
      background: #4caf50;
      color: #fff;
      transform: rotateY(180deg);
    }
    .card .back {
      background: #fff;
      color: #4caf50;
    }
    #reset-btn {
      padding: 10px 24px;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      background: #888;
      color: #fff;
      cursor: pointer;
      margin-bottom: 20px;
      transition: background 0.2s;
    }
    #reset-btn:hover {
      background: #555;
    }
    #message {
      font-size: 1.2rem;
      color: #333;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h1>ç¥çµŒè¡°å¼±ã‚²ãƒ¼ãƒ </h1>
  <div id="howto" style="max-width: 420px; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); padding: 18px 20px 12px 20px; margin-bottom: 18px; color: #333; font-size: 1.05rem;">
    <b>éŠã³æ–¹</b><br>
    1. 25æšã®ã‚«ãƒ¼ãƒ‰ãŒè£å‘ãã§ä¸¦ã‚“ã§ã„ã¾ã™ã€‚<br>
    2. 1åº¦ã«2æšã¾ã§ã‚«ãƒ¼ãƒ‰ã‚’ã‚ãã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br>
    3. åŒã˜çµµæŸ„ã®ãƒšã‚¢ã‚’è¦‹ã¤ã‘ã‚‹ã¨ã€ãã®ã‚«ãƒ¼ãƒ‰ã¯è¡¨ã®ã¾ã¾å›ºå®šã•ã‚Œã¾ã™ã€‚<br>
    4. ãƒšã‚¢ã§ãªã‘ã‚Œã°ã€å°‘ã—çµŒã¤ã¨è£ã«æˆ»ã‚Šã¾ã™ã€‚<br>
    5. å…¨ã¦ã®ãƒšã‚¢ã‚’è¦‹ã¤ã‘ã‚‹ã¨ã‚²ãƒ¼ãƒ ã‚¯ãƒªã‚¢ã§ã™ï¼<br>
    <span style="color:#888; font-size:0.97em;">â€»1æšã ã‘ãƒšã‚¢ãŒãªã„ã‚«ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚</span>
    <ul style="margin:8px 0 0 18px; padding:0; font-size:0.98em; color:#555;">
      <li>ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚ãã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</li>
      <li>ã€Œãƒªã‚»ãƒƒãƒˆã€ãƒœã‚¿ãƒ³ã§æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã›ã¾ã™ã€‚</li>
    </ul>
  </div>
  <div id="message"></div>
  <button id="reset-btn">ãƒªã‚»ãƒƒãƒˆ</button>
  <div id="game-board"></div>
  <script>
    const symbols = ['ğŸ','ğŸŒ','ğŸ‡','ğŸŠ','ğŸ“','ğŸ’','ğŸ‰','ğŸ¥','ğŸ','ğŸ¥‘','ğŸ‘','ğŸˆ'];
    let cards = [];
    let flippedCards = [];
    let matchedCount = 0;
    const board = document.getElementById('game-board');
    const message = document.getElementById('message');
    const resetBtn = document.getElementById('reset-btn');

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function createBoard() {
      board.innerHTML = '';
      message.textContent = '';
      matchedCount = 0;
      flippedCards = [];
      // 12ç¨®é¡Ã—2æš+1æš = 25æš
      const allSymbols = shuffle([...symbols, ...symbols, 'â“']).slice(0, 25);
      cards = allSymbols.map((symbol, idx) => {
        const card = document.createElement('div');
        card.className = 'card';
        card.dataset.symbol = symbol;
        card.dataset.index = idx;
        card.setAttribute('tabindex', '0'); // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œå¯¾å¿œ
        card.setAttribute('aria-label', 'ã‚«ãƒ¼ãƒ‰');
        card.innerHTML = `
          <div class="front">${symbol}</div>
          <div class="back">?</div>
        `;
        card.addEventListener('click', () => flipCard(card));
        card.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') flipCard(card);
        });
        board.appendChild(card);
        return card;
      });
    }

    function flipCard(card) {
      if (card.classList.contains('flipped') || card.classList.contains('matched') || flippedCards.length === 2) return;
      card.classList.add('flipped');
      flippedCards.push(card);
      card.querySelector('.back').textContent = '';
      if (flippedCards.length === 2) {
        checkMatch();
      }
    }

    function checkMatch() {
      const [card1, card2] = flippedCards;
      if (card1.dataset.symbol === card2.dataset.symbol) {
        card1.classList.add('matched');
        card2.classList.add('matched');
        matchedCount += 2;
        flippedCards = [];
        if (matchedCount === cards.length - 1) {
          message.textContent = 'ãŠã‚ã§ã¨ã†ï¼å…¨ã¦æƒã„ã¾ã—ãŸï¼';
        }
      } else {
        setTimeout(() => {
          card1.classList.remove('flipped');
          card2.classList.remove('flipped');
          card1.querySelector('.back').textContent = '?';
          card2.querySelector('.back').textContent = '?';
          flippedCards = [];
        }, 900);
      }
    }

    resetBtn.addEventListener('click', createBoard);
    createBoard();
  </script>
</body>
</html> 